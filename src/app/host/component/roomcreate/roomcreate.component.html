<div class="card">
  <h5 class="card-header">Create New Room</h5>
  <div class="card-body">
    <form
      [formGroup]="createRoomForm"
      (ngSubmit)="createRoom()"
      enctype="multipart/form"
    >
      <div class="row">
        <div class="form-group" class="col">
          <label>Room Name</label>
          <input
            type="text"
            class="form-control"
            id="roomname"
            formControlName="name"
            placeholder="Name Room"
          />
          <div *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)">
            <div *ngIf="f.name.errors">
              <div *ngIf="f.name.errors.required">
                <small class="form-text text-muted err">
                  Do not leave the room name blank
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group" class="col">
          <label for="roomname">Address</label>
          <input
            type="text"
            class="form-control"
            id="roomname"
            formControlName="address"
            placeholder="Address"
          />
          <div
            *ngIf="f.address.invalid && (f.address.dirty || f.address.touched)"
          >
            <div *ngIf="f.address.errors">
              <div *ngIf="f.address.errors.required">
                <small class="form-text text-muted err">
                  Address required
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="">Room Type</label>
          <select
            formControlName="category_id"
            class="form-control form-control-lg"
          >
            <option
              *ngFor="let category of categories"
              value="{{ category.id }}"
            >
              {{ category.name }} - {{ category.price }}
            </option>
          </select>
          <div
            *ngIf="
              f.category_id.invalid &&
              (f.category_id.dirty || f.category_id.touched)
            "
          >
            <div *ngIf="f.category_id.errors">
              <div *ngIf="f.category_id.errors.required">
                <small class="form-text text-muted err">
                  Category required
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group" class="form-group col-md-4">
          <label for="">BedRoom</label>
          <select
            formControlName="bedroom"
            class="form-control form-control-lg"
          >
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
          <div
            *ngIf="f.bedroom.invalid && (f.bedroom.dirty || f.bedroom.touched)"
          >
            <div *ngIf="f.bedroom.errors">
              <div *ngIf="f.bedroom.errors.required">
                <small class="form-text text-muted err">
                  BedRoom required
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group" class="form-group col-md-2">
          <label for="">BathRoom</label>
          <select
            formControlName="bathroom"
            class="form-control form-control-lg"
          >
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
          </select>
          <div
            *ngIf="
              f.bathroom.invalid && (f.bathroom.dirty || f.bathroom.touched)
            "
          >
            <div *ngIf="f.bathroom.errors">
              <div *ngIf="f.bathroom.errors.required">
                <small class="form-text text-muted err">
                  BathRoom required
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label for="">City</label>
          <select
            formControlName="city_id"
            class="form-control form-control-lg"
          >
            <option *ngFor="let city of cities" value="{{ city.id }}">
              {{ city.name }}
            </option>
          </select>
          <div
            *ngIf="f.city_id.invalid && (f.city_id.dirty || f.city_id.touched)"
          >
            <div *ngIf="f.city_id.errors">
              <div *ngIf="f.city_id.errors.required">
                <small class="form-text text-muted err">
                  City name required
                </small>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <label for="">Status</label>
          <select
            formControlName="status_id"
            class="form-control form-control-lg"
          >
            <option *ngFor="let status of statuses" value="{{ status.id }}">
              {{ status.name }}
            </option>
          </select>
          <div
            *ngIf="
              f.status_id.invalid && (f.status_id.dirty || f.status_id.touched)
            "
          >
            <div *ngIf="f.status_id.errors">
              <div *ngIf="f.status_id.errors.required">
                <small class="form-text text-muted err">
                  Status required
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Description</label>
        <textarea
          formControlName="description"
          class="form-control"
          rows="2"
        ></textarea>
        <div
          *ngIf="
            f.description.invalid &&
            (f.description.dirty || f.description.touched)
          "
        >
          <div *ngIf="f.description.errors">
            <div *ngIf="f.description.errors.required">
              <small class="form-text text-muted err">
                Description required
              </small>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="exampleFormControlFile1">Room Image</label>
        <input
          type="file"
          class="form-control-file"
          id="exampleFormControlFile1"
          (change)="onFileSelected($event)"
        />
      </div>
      <div *ngIf="createRoomForm.invalid">
        <button class="btn btn-primary mr-4">Create</button>
        <a class="btn btn-warning" routerLink="/host">Back</a>
      </div>
      <div></div>
    </form>
  </div>
</div>
